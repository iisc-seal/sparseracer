1: threadinit(1)
2: fork(1,2)
3: enterloop(1)
4: threadinit(2)
5: enterloop(2)
6: deq(1,0x11)
7: alloc(1,0xa,30)
8: enq(1,0x3,1,0x0)
9: enq(1,0x5,1,0x0)
10: enq(1,0x2,2,0x0)
11: end(1,0x11)
12: deq(2,0x2)
13: write(2,0x14)
14: deq(1,0x3)
15: enq(1,0x4,2,0x1)
16: pause(2,0x2)
17: deq(2,0x4)
18: read(2,0x14)
19: enq(2,0x1,1,0x0)
20: end(2,0x4)
21: resume(2,0x2)
22: end(2,0x2)
23: pause(1,0x3)
24: deq(1,0x5)
25: write(1,0xa)
26: end(1,0x5)
27: deq(1,0x1)
28: read(1,0xa)
29: end(1,0x1)
30: resume(1,0x3)
31: free(1,0xa,30)
32: end(1,0x3)